<%- include('../partials/head', { title: 'Ella Rises' }) %>
<%- include('../partials/navbar', { currentPath: '/portal/milestones' }) %>
<div class="min-h-screen bg-background pt-28 pb-20">
  <div class="container mx-auto px-6">
    <h1 class="text-4xl md:text-6xl font-serif text-foreground mb-8">My Milestones</h1>
    <div id="milestones-container" class="bg-card border border-border rounded-xl p-6">
      <p class="text-foreground/60">Loading milestones...</p>
    </div>
  </div>
</div>
<%- include('partials/footer') %>
<script>
  fetch('/api/auth/me')
    .then(r => r.json())
    .then(me => {
      return fetch(`/api/participants/${me.ParticipantID}/milestones`);
    })
    .then(r => r.json())
    .then(milestones => {
      const container = document.getElementById('milestones-container');
      container.innerHTML = milestones.map(m => `
        <div class="border-b border-border py-4">
          <h3 class="text-xl font-serif">${m.MilestoneTitle}</h3>
          <p class="text-foreground/60">${new Date(m.MilestoneDate).toLocaleDateString()}</p>
        </div>
      `).join('');
    });
</script>

